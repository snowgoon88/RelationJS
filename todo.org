* [5/5] BUG 
** DONE why ContextPopup is showing at start, bottom left
set to hidden className
** DONE askNewFaction s'empile quand on clique dans background
** DONE Context Menu s'empilent quand ContextMenu est actif et qu'on re-select
disable rightclick when already popping out
** DONE Quand en train de nommer Relation, peut bouger Faction
** DONE Après load factions, create faction has id 0 !! (not max)
* [5/7] UPD
** TODO change model.viewF in model.view (and check that model.view.objF)
** TODO RelationC is not used
** DONE uniform x,y vs pos, especially in menu, ask, action
** DONE All Popup using the same mecanism, popupElement
** DONE update _listFactionM to _listRelationM
** DONE check that addXXXAction uses xxxxA /archive/ in every case
** DONE is addXXXXAction used as Action ? => YES
* _CURRENT_ : edit/delete on expanded
* _CURRENT_ : color for Faction


* TODO [7/7] Fabric.js
** DONE Faction style (Color)
** DONE [4/4] click droit pour créer une nouvelle Faction
*** DONE Event click droit
*** DONE Struct Faction et liste de Faction
*** DONE Style Faction
*** DONE React pour new Faction (sur Canvas) ?
** DONE Group with circle and Name
** DONE [3/3] React Selection in List
<<reactList>>
*** style
*** DONE not growing (too much) in size
*** DONE multiple
*** create
*** DONE (search)
** DONE Creation context menu : Faction, Person
** [3/6] Person
*** DONE creation menu : name, list Faction
*** DONE save/load
*** DONE group in Fabric
*** TODO edit => recompute expand
*** TODO delete => recompute expand
*** TODO creation (choix faction) as circle+name => recompute expand
** [3/8] Faction
*** TODO Color
*** DONE lister
*** TODO edit color => change everywhere ?
*** TODO delete => change expanded
*** TODO save => save expand state
*** TODO load => load expand state
*** DONE load : check not adding twice
*** DONE load: why is _listFactionM not valid after load ?
** DONE [3/4] Relation
<<relationIO>>
*** DONE lister
*** DONE save
*** DONE load
*** TODO Person|Faction -> Person|Faction
** DONE [1/1] Contextual Menu
*** [1/1] Background
**** DONE addFaction
*** [4/4] Faction
**** DONE Edit
**** DONE New Relation
<<relationArrow>> sait choisir src and dest => créer un Relation
- créer un RelationF  : OK
- triangle            : OK
- liste des Relations : bof
- update si mvt End   : OK
- update si mvt Ctrl  : OK
- update si mvt both end : OK
- label               : OK
- demander label      : OK
**** DONE ----
**** DONE Delete
comment effacer toutes les références (sur les Relations)
*** DONE [3/3] Relation
<<relationMenu>>
**** DONE Edit
**** DONE ----
**** DONE Delete
*** Divers/Archive
**** Edit
**** Relation arrow
 Fires:
     event:changed
     selection:changed
     editing:entered
     editing:exited
* NPM
** init
Crée un package.json avec des données
RelationJS>$ npm init
** installer un package
Cherche récursivement le 'root' du projet, càd node_modules ou package.json
Installer localement (si require)
Installer globalement (pour utiliser)
avec option --save-dev : uniquement pour le développement
Et cela génère package-lock.json (à mettre sur git)
** package.json : permet d'avoir la même config ailleur, par un simple npm install
** install tasksfile (Makefile like)
see https://github.com/pawelgalazka/tasksfile
créer un fichier tasksfile.js avec les commandes, puis aussi ajouter dans le "scrip" de package.json
** use Babel 
npm install --save-dev @babel/preset-react
RelationJS>$ npx babel src --out-dir lib
** use FileSaver
npm install file-saver
faire les liens appropriés
* Archive
** [4/5] App
*** DONE basic test example in nav https://js.cytoscape.org/#getting-started
*** DONE basic react: test_react.html
*** DONE Utiliser le nouveau React : React Funcion Components et useState, (useEffect)
 https://reactjs.org/docs/components-and-props.html
 https://reactjs.org/docs/hooks-intro.html
 https://blog.bitsrc.io/get-hooked-on-react-hooks-706b0dda1058
*** DONE on peut utiliser un component depuis Cytoscape
**** Component qui peut servir à ajouter un NOUVEAU Faction ou modifier
*** TODO Fonction pour modifier une faction existante.

* ORG
** Link [[link][display
*** <<anchor>>
*** file:rel_path::NNN or ::search words
*** C-c l : store link
*** C-c C-o : follow link
*** C-c C-l : edit link/insert link
** TODO
*** C-c / t : sparse todo tree
